(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[18],{530:function(e,t,s){"use strict";s.r(t),s.d(t,"EditProfile",(function(){return I}));var a=s(2),n=s(85),i=s(86),r=s(105),c=s(103),l=s(0),d=s(287),o=s(362),j=s(536),m=s(551),u=s(108),b=s(553),h=s(522),p=s(523),x=s(490),O=s(498),v=s(32),g=s(173),f=s(203),y=s(39),I=function(e){Object(r.a)(s,e);var t=Object(c.a)(s);function s(){var e;Object(n.a)(this,s);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return(e=t.call.apply(t,[this].concat(i))).state={avatarUrl:"/img/avatars/thumb-6.jpg"},e}return Object(i.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.fetchClient(e)}},{key:"getBase64",value:function(e,t){var s=new FileReader;s.addEventListener("load",(function(){return t(s.result)})),s.readAsDataURL(e)}},{key:"render",value:function(){var e,t,s,n,i,r,c,l,f=this,y=this.state.avatarUrl;return Object(a.jsx)(a.Fragment,{children:this.props.isLoading?Object(a.jsx)(g.a,{justifyContent:"center",alignItems:"center",children:Object(a.jsx)(o.a,{})}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(g.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(a.jsx)(j.a,{size:90,src:y,icon:Object(a.jsx)(O.a,{})}),Object(a.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(a.jsx)(m.a,{onChange:function(e){var t="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(f.getBase64(e.file.originFileObj,(function(e){return f.setState({avatarUrl:e})})),d.b.success({content:"Uploaded!",key:t,duration:1.5})):d.b.loading({content:"Uploading...",key:t,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(a.jsx)(u.a,{type:"primary",children:"Change Avatar"})}),Object(a.jsx)(u.a,{className:"ml-2",onClick:function(){f.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(a.jsx)("div",{className:"mt-4",children:Object(a.jsx)(b.a,{name:"basicInformation",layout:"vertical",initialValues:{name:null===(e=this.props.user)||void 0===e?void 0:e.name,email:null===(t=this.props.user)||void 0===t?void 0:t.email,username:null===(s=this.props.user)||void 0===s?void 0:s.username,phoneNumber:null===(n=this.props.user)||void 0===n?void 0:n.phone,website:null===(i=this.props.user)||void 0===i?void 0:i.website,address:null===(r=this.props.user)||void 0===r?void 0:r.address.street,city:null===(c=this.props.user)||void 0===c?void 0:c.address.city,postcode:null===(l=this.props.user)||void 0===l?void 0:l.address.zipcode},onFinish:function(e){var t="updatable";d.b.loading({content:"Updating...",key:t}),setTimeout((function(){f.props.history.push("/app/main/client-list"),d.b.success({content:"Done!",key:t,duration:2})}),1e3)},onFinishFailed:function(e){console.log("Failed:",e)},children:Object(a.jsx)(h.a,{children:Object(a.jsxs)(p.a,{xs:24,sm:24,md:24,lg:16,children:[Object(a.jsxs)(h.a,{gutter:v.c,children:[Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Website",name:"website",children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:24,children:Object(a.jsx)(b.a.Item,{label:"Address",name:"address",children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"City",name:"city",children:Object(a.jsx)(x.a,{})})}),Object(a.jsx)(p.a,{xs:24,sm:24,md:12,children:Object(a.jsx)(b.a.Item,{label:"Post code",name:"postcode",children:Object(a.jsx)(x.a,{})})})]}),Object(a.jsx)(u.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})})}}]),s}(l.Component);t.default=Object(y.b)((function(e){return{user:e.clients.client,isLoading:e.clients.isLoading}}),{fetchClient:f.c})(I)}}]);
//# sourceMappingURL=18.a5b6f610.chunk.js.map